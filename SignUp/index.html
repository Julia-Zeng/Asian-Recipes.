<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Recipes - Sign Up</title>
</head>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = 'https://ytbfokayjuwdovzygubt.supabase.co/';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0YmZva2F5anV3ZG92enlndWJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NTMyNDAsImV4cCI6MjA3NjAyOTI0MH0.lZv12D29lHDWYvmmolZbGBjuB6JMwdZB1SVIE52YmVg';
  const db = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>

<script>
  async function createUser() {
    let email = document.getElementById("email-input").value;
    let password = document.getElementById("password-input").value;
    await db.from("Users").insert([{ email: email, password: password }])
    alert("User Created!")
    window.location.href = "../LogIn/index.html";
  }
</script>



<div class="image-container2">
  <img src="../Images/Lantern 2.png" alt="Watercolor yellow lantern">
</div>

<div class="image-container3">
  <img src="../Images/Lantern 2.png" alt="Watercolor yellow lantern 2">
</div>

<script>
  async function getUsers() {
    const { data, error } = await supabase
      .from('users')
      .select('*');

    if (error) console.error(error);
    else console.log('Users:', data);
  }
  getUsers();
</script>


<script>
  async function updateUser() {
    const { data, error } = await supabase
      .from('users')
      .update({ email: 'newalice@example.com' })
      .eq('id', 1); // Update user with id=1

    if (error) console.error(error);
    else console.log('Updated:', data);
  }
  updateUser();
</script>

<script>
  async function deleteUser() {
    const { data, error } = await supabase
      .from('users')
      .delete()
      .eq('id', 1);

    if (error) console.error(error);
    else console.log('Deleted:', data);
  }
  deleteUser();
</script>

</head>

<body>
  <h1>Sign Up</h1>

  <div class="email-container">
    <label for="email">Email:</label>
    <input type="text" id="email-input">
  </div>

  <div class="password-container">
    <div class="input-container input-container-password"> </div>
    <label for="password">Password:</label>
    <input type="password" id="password-input">
    <label style="margin-left:8px;">
      <input type="checkbox" id="show-password" onclick="togglePassword()">
      Show password
    </label>
  </div>

  <div class="button-container">
    <button onclick="createUser()">Create User</button>
  </div>

  <script>
    function togglePassword() {
      const pwd = document.getElementById('password-input');
      const checked = document.getElementById('show-password').checked;
      pwd.type = checked ? 'text' : 'password';
    }
  </script>

</body>

</html>